<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LA-CIA | L’Alliance – Conseil en Intelligence Artificielle</title>

  <!-- Feuille de style principale -->
  <link rel="stylesheet" href="style.css">

  <!-- Intégration du script Google reCAPTCHA v3 -->
  <!-- Clé publique enregistrée dans ton compte Google -->
  <script src="https://www.google.com/recaptcha/api.js?render=6LeA-AcsAAAAALU4HWc2wOUEGszDab6bTramc05C"></script>
</head>

<body>
  <!-- ===============================
       EFFET DE FOND MATRIX
       =============================== -->
  <canvas id="matrix"></canvas>

  <!-- ===============================
       EN-TÊTE DU SITE
       =============================== -->
  <header>
    <img src="logo.png" alt="Logo LA-CIA" class="logo">
    <h1>L’Alliance – Conseil en Intelligence Artificielle</h1>
  </header>

  <!-- ===============================
       SECTION PRINCIPALE
       =============================== -->
  <main>
    <section id="presentation">
      <p class="intro">
        <strong>LA-CIA</strong> aide les entreprises à comprendre, tester et intégrer
        l’intelligence artificielle dans leurs activités, sans complexité technique.
      </p>

      <p>
        L’IA doit être un outil accessible, au service de l’humain et de la performance.
        Grâce à une approche <strong>no-code</strong> et des solutions simples à déployer,
        nous permettons aux organisations de tirer parti de l’IA sans développeurs ni infrastructures lourdes.
      </p>

      <h2>Nos domaines d’intervention</h2>
      <ul>
        <li><strong>Conseil stratégique IA :</strong> analyse de vos besoins et feuille de route claire.</li>
        <li><strong>Automatisation no-code :</strong> création de flux intelligents pour gagner en efficacité.</li>
        <li><strong>Prototypage IA :</strong> développement rapide d’assistants, d’outils et de modèles IA.</li>
        <li><strong>Formation et accompagnement :</strong> montée en compétences de vos équipes.</li>
      </ul>

      <h2>Notre vision</h2>
      <p>
        L’intelligence artificielle ne remplace pas l’humain — elle l’augmente.  
        Chez <strong>LA-CIA</strong>, nous construisons une alliance entre votre savoir-faire
        et la puissance de l’IA pour stimuler innovation et performance durable.
      </p>
    </section>

    <!-- ===============================
         FORMULAIRE DE CONTACT
         =============================== -->
    <section id="contact">
      <h2>Demande de mise en relation</h2>

      <!-- Formulaire connecté à Formspree -->
      <form id="contactForm" action="https://formspree.io/f/mvgdpnea" method="POST">

        <!-- Nom -->
        <label for="nom">Nom :</label>
        <input type="text" id="nom" name="nom" required pattern="[A-Za-zÀ-ÿ\s\-]{2,}" title="Le nom doit contenir uniquement des lettres.">

        <!-- Prénom -->
        <label for="prenom">Prénom :</label>
        <input type="text" id="prenom" name="prenom" required pattern="[A-Za-zÀ-ÿ\s\-]{2,}" title="Le prénom doit contenir uniquement des lettres.">

        <!-- Société -->
        <label for="societe">Société :</label>
        <input type="text" id="societe" name="societe" required minlength="2" maxlength="100" title="Nom de société obligatoire.">

        <!-- Email -->
        <label for="email">Email :</label>
        <input type="email" id="email" name="email" required title="Adresse e-mail invalide. Exemple : nom@entreprise.fr">

        <!-- Téléphone -->
        <label for="telephone">Téléphone :</label>
        <input type="tel" id="telephone" name="telephone" required
          pattern="^(\+33|0)[1-9](\s?\d{2}){4}$"
          title="Numéro français valide attendu. Exemple : 0612345678 ou +33612345678">

        <!-- Cases à cocher -->
        <fieldset class="besoins">
          <legend>Votre besoin :</legend>
          <label><input type="checkbox" name="besoin" value="Conseil IA"> Conseil IA</label>
          <label><input type="checkbox" name="besoin" value="Automatisation"> Automatisation</label>
          <label><input type="checkbox" name="besoin" value="Formation"> Formation</label>
          <label><input type="checkbox" name="besoin" value="Autre"> Autre</label>
        </fieldset>

        <!-- Message -->
        <label for="message">Message :</label>
        <textarea id="message" name="message" required minlength="10" maxlength="1000"
          placeholder="Décrivez brièvement votre demande (pas de code)."></textarea>

        <!-- Bouton -->
        <button type="submit" class="cta">Envoyer la demande</button>
      </form>
    </section>
  </main>

  <!-- ===============================
       PIED DE PAGE
       =============================== -->
  <footer>
    <p>© 2025 LA-CIA – Tous droits réservés.</p>
  </footer>

  <!-- ===============================
       SCRIPTS JS
       =============================== -->
  <script>
    /* === 1. Effet Matrix === */
    const canvas = document.getElementById('matrix');
    const ctx = canvas.getContext('2d');
    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    resizeCanvas();
    window.addEventListener('resize', resizeCanvas);

    const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789<>|+-•◦○●';
    const fontSize = 16;
    const columns = Math.floor(canvas.width / fontSize);
    const drops = Array(columns).fill(1);
    function draw() {
      ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      ctx.fillStyle = '#00FF41';
      ctx.font = fontSize + 'px monospace';
      for (let i = 0; i < drops.length; i++) {
        const text = letters.charAt(Math.floor(Math.random() * letters.length));
        ctx.fillText(text, i * fontSize, drops[i] * fontSize);
        if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) drops[i] = 0;
        drops[i]++;
      }
    }
    setInterval(draw, 40);

    /* === 2. Envoi du formulaire avec reCAPTCHA v3 === */
    const form = document.getElementById('contactForm');

    form.addEventListener('submit', function (e) {
      e.preventDefault(); // Empêche le rechargement de la page

      // Vérification simple pour éviter le code HTML dans le message
      const message = document.getElementById('message').value;
      if (/[<>]/.test(message)) {
        alert("Merci de ne pas inclure de code HTML dans votre message.");
        return;
      }

      // Étape reCAPTCHA : génération d’un token côté Google
      grecaptcha.ready(function () {
        grecaptcha.execute('6LeA-AcsAAAAALU4HWc2wOUEGszDab6bTramc05C', { action: 'submit' }).then(function (token) {

          // On ajoute le token reCAPTCHA au formulaire
          const formData = new FormData(form);
          formData.append('g-recaptcha-response', token);

          // Envoi via Fetch (AJAX)
          fetch(form.action, {
            method: form.method,
            body: formData,
            headers: { 'Accept': 'application/json' }
          })
          .then(response => {
            if (response.ok) {
              alert('✅ Votre message a bien été envoyé, merci !');
              form.reset();
            } else {
              response.json().then(data => {
                console.error('Erreur Formspree :', data);
                alert('⚠️ Erreur de validation reCAPTCHA. Merci de réessayer.');
              });
            }
          })
          .catch(() => {
            alert('❌ Impossible de contacter le serveur. Vérifiez votre connexion.');
          });
        });
      });
    });
  </script>
</body>
</html>
